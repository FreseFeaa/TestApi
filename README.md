# Notes API - Тестовый проект

Простой REST API для управления заметками с автоматизированным тестированием и генерацией отчетов Allure.

## Описание API

### Эндпоинты

| Метод | URL | Описание | Статусы ответа |
|-------|-----|-----------|----------------|
| GET | `/notes` | Получить все заметки | 200, 404 |
| GET | `/note/:id` | Получить заметку по ID | 200, 404 |
| GET | `/note/read/:title` | Найти заметку по заголовку | 200, 404 |
| POST | `/note` | Создать новую заметку | 201, 409 |
| PUT | `/note/:id` | Обновить заметку по ID | 204, 409 |
| DELETE | `/note/:id` | Удалить заметку по ID | 204, 409 |

### Модель данных заметки

```json
{
  "id": 1,
  "title": "Заголовок заметки",
  "content": "Содержимое заметки",
  "created": "2024-01-01T00:00:00.000Z",
  "changed": "2024-01-01T00:00:00.000Z"
}
```

## Установка и запуск

### Запуск сервера

- Перейти в папку сервера
  
```
cd SERVER 
```

- Установить зависимости Node.js (если нужно)
  
```
npm init -y
npm install express body-parser
```

- Запустить сервер

``` 
node server.js
```
**Сервер будет доступен по адресу:** 
```
http://localhost:3000 
```

### Настройка тестового окружения
 - Перейти в папку тестов
```
cd TEST
```

- Установить зависимости Python
```
pip install -r req.txt
```

## Запуск тестов

### Базовый запуск
```
python -m pytest -s -v
```

### Запуск с генерацией Allure отчетов
- Запуск тестов с сохранением результатов
```
pytest --alluredir=allure-results
```
- Просмотр отчета
```
allure serve allure-results
```

## Переменные окружения
- BASE_URL - базовый URL API (по умолчанию: http://localhost:3000)
- PORT - порт сервера (по умолчанию: 3000)


## Зависимости
### Сервер (Node.js)
- express ^4.18.0
- body-parser ^1.20.0

### Тесты (Python)
- pytest ^7.0.0
- requests ^2.28.0
- allure-pytest ^2.13.0
 




